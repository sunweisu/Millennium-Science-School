var qe=Object.defineProperty,Be=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var fe=(e,t,o)=>t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,m=(e,t)=>{for(var o in t||(t={}))Ge.call(t,o)&&fe(e,o,t[o]);if(de)for(var o of de(t))Je.call(t,o)&&fe(e,o,t[o]);return e},K=(e,t)=>Be(e,Fe(t));import{r as Ie,o as ze,w as We}from"./@vue.982c7a60.js";const V="color: black; font-size: 12px; font-weight: bolder";var pe=(e,t,o,s)=>{const n=console;n.groupCollapsed("%cHitCache","padding: 2px 6px; background: #c4fcd3; color: #53b56d;",t.url),n.log("%c[Mode]",V,o),o==="restore"&&n.log("%c[Tag]",V,s),n.log("%c[Method]",V,t),n.log("%c[Cache]",V,e),n.groupEnd()};const Ye=e=>`[alova]${e}`;var Qe=(e,t)=>{const o=p(Error,Ye(e));return t&&(o.name=t),o};const X=Promise,te=Object,g=void 0,Z=null,w=!0,x=!1,Y=(e,t,o)=>e.then(t,o),Ce=e=>JSON.stringify(e),Xe=e=>JSON.parse(e),ee=e=>te.keys(e),C=(e,t)=>e.forEach(t),oe=(e,...t)=>e.push(...t),$e=(e,t)=>e.map(t),Ze=e=>e.length,Ee=e=>Array.isArray(e),j=(e,t)=>delete e[t],he="memory",et="placeholder",tt="restore",ot=typeof window=="undefined"&&typeof process!="undefined",q=[];function st(e,t){if(!e)throw Qe(t)}const se=()=>{},ge=e=>e,v=e=>typeof e=="function",me=e=>typeof e=="number"&&!isNaN(e),Oe=e=>typeof e=="string",Te=e=>te.prototype.toString.call(e),ne=e=>Te(e)==="[object Object]",$=(e,t)=>e instanceof t,B=e=>e?e.getTime():Date.now(),M=e=>e.context,E=e=>e.config,re=e=>e.options,nt=e=>re(M(e)),ye=e=>re(e).statesHook,rt=e=>{const t=Te(e);return/^\[object (Blob|FormData|ReadableStream|URLSearchParams)\]$/i.test(t)||$(e,ArrayBuffer)},ae=e=>{const{params:t,headers:o}=E(e);return Ce([e.type,e.url,t,e.data,o])},at=e=>{const t=E(e).localCache,o=r=>me(r)?B()+r:B(r||g);let s=he,n=0,a=x,i=g;if(!v(t))if(me(t)||$(t,Date))n=o(t);else{const{mode:r=he,expire:c=0,tag:l}=t||{};s=r,n=o(c),a=[et,tt].includes(r),i=l?l.toString():g}return{e:n,m:s,s:a,t:i}},it=(e,t)=>v(e)?e:[x,Z].includes(e)?se:t,Se=e=>(...t)=>p(X,(o,s)=>{try{o(e(...t))}catch(n){s(n)}}),p=(e,...t)=>new e(...t),F={},ct=(e,t,o)=>{const s=F[e]=F[e]||{};s[t]=o},Pe=(e,t=w)=>{let o="",s=g,n;if(Oe(e)||$(e,RegExp))s=e;else if(ne(e)){s=e.name,n=e.filter;const i=e.alova;o=i?i.id:o}const a=[];return C(ee(F),i=>{if(!o||i===o){const r=F[i];C(ee(r),c=>{const l=r[c],h=E(l).name||"";(s===g||($(s,RegExp)?s.test(h):h===s))&&(l.__key__=c,oe(a,l))})}}),n?a[t?"filter":"find"](n):t?a:a[0]},lt=(e,t)=>{let o;return Ee(e)?o=e:e&&Oe(e.url)?o=t?[e]:e:o=Pe(e,t),o};let A={};const ut=e=>e<B(),dt=(e,t)=>{const o=A[e];if(o){const s=o[t];if(s){if(!ut(s[1]))return s[0];j(o,t)}}},ft=(e,t,o,s=0)=>{if(s>B()&&o){const n=A[e]=A[e]||{};n[t]=[o,s]}},pt=(e,t)=>{const o=A[e];o&&j(o,t)},ht=()=>{A={}},gt="alova.",we=(e,t)=>gt+e+t,G="alova.resp.keys",xe=(e,t,o)=>{const s=o.get(G)||[],n=s.indexOf(e);t===0&&n>=0?s.splice(n,1):t===1&&n<0&&oe(s,e),o.set(G,s)},mt=(e,t,o,s,n,a=Z)=>{if(s>0&&o){const i=we(e,t);n.set(i,[o,s===1/0?Z:s,a]),xe(i,1,n)}},yt=(e,t,o)=>{const s=we(e,t);o.remove(s),xe(s,0,o)},St=()=>{C(q,e=>{const{storage:t}=e,o=t.get(G)||[];C(o,s=>{t.remove(s)}),t.remove(G)})};var bt=e=>{const{data:t,config:o}=e,s=m({},o),{headers:n={},params:a={}}=s,i=M(e);s.headers=m({},n),s.params=m({},a);const r=p(y,e.type,i,e.url,s,t);return te.assign(r,K(m({},e),{config:s})),r};const Rt=e=>{if(!e){ht(),St();return}const t=lt(e,w);C(t,o=>{const{id:s,storage:n}=M(o),a=o.__key__||ae(o);pt(s,a),yt(s,a,n)})},be={},vt=(e,t,o)=>{e=e.endsWith("/")?e.slice(0,-1):e,t=t.match(/^(\/|https?:\/\/)/)?t:`/${t}`;const s=e+t,n=$e(ee(o).filter(a=>o[a]!==g),a=>`${a}=${o[a]}`).join("&");return n?+s.includes("?")?`${s}&${n}`:`${s}?${n}`:s};function Ct(e,t){let o=w,s;const n=p(X,r=>{s=r}),a=()=>{Y(n,r=>r&&r.abort())};return{abort:a,onDownload:r=>{Y(n,c=>c&&c.onDownload&&c.onDownload(r))},onUpload:r=>{Y(n,c=>c&&c.onUpload&&c.onUpload(r))},response:()=>{e.abort=a;const{beforeRequest:r=se,responsed:c,responded:l,requestAdapter:h,cacheLogger:d=pe}=nt(e),f=ae(e),u=bt(e);return Se(r)(u).then(()=>{const{localCache:S}=E(u);if(v(S))return S();if(!t){const R=dt(M(u).id,f);if(R)return R}}).then(S=>{const{e:R,s:J,t:H,m:I}=at(u);if(S!==g)return s(),it(d,pe)(S,u,I,H),S;o=x;const{baseURL:Ae,url:je,type:He,data:De}=u,{id:O,storage:Le}=M(u),{params:Ne={},headers:Ue={},transformData:ke=ge,name:ie="",shareRequest:Ke}=E(u),z=be[O]=be[O]||{},D=l||c;let T=z[f],L=ge,N=g;if(!Ke||!T){const b=h({url:vt(Ae,je,Ne),type:He,data:De,headers:Ue},u);T=z[f]=b}if(s(T),v(D))L=D;else if(ne(D)){const{onSuccess:b,onError:U}=D;L=v(b)?b:L,N=v(U)?U:N}return X.all([T.response(),T.headers()]).then(([b,U])=>Se(L)(b,u).then(P=>ke(P,U)).then(P=>{ct(O,f,e);const ce=u.data;(!ce||!rt(ce))&&(ft(O,f,P,R),J&&mt(O,f,P,R,Le,H));const le=Pe({filter:Ve=>{let ue=x;const W=Ve.hitSource;if(W)for(const _e in W){const k=W[_e];if($(k,RegExp)?k.test(ie):k===ie||k===f){ue=w;break}}return ue}});return Ze(le)>0&&Rt(le),P}),b=>{if(!v(N))throw b;return N(b,u)}).finally(()=>j(z,f))})},fromCache:()=>o}}const Me="GET",$t="HEAD",Et="POST",Ot="PUT",Tt="PATCH",Pt="DELETE",wt="OPTIONS";class y{constructor(t,o,s,n,a){this.abort=se;const i=re(o);this.baseURL=i.baseURL||"",this.url=s,this.type=t,this.context=o;const r={},c="localCache",l=ne(i[c])?i[c][t]:g,h=n==null?void 0:n.hitSource;C(["timeout","shareRequest"],d=>{i[d]!==g&&(r[d]=i[d])}),l!==g&&(r[c]=l),h&&(this.hitSource=$e(Ee(h)?h:[h],d=>$(d,y)?ae(d):d),j(n,"hitSource")),this.config=m(K(m({},r),{headers:{},params:{}}),n||{}),this.data=a}send(t=x){return Ct(this,t).response()}setName(t){E(this).name=t}}const Q={},xt={getItem:e=>Q[e],setItem:(e,t)=>Q[e]=t,removeItem:e=>j(Q,e)};var Mt=()=>{const e=ot?xt:window.localStorage;return{set:(t,o)=>e.setItem(t,Ce(o)),get:t=>{const o=e.getItem(t);return o&&Xe(o)},remove:t=>e.removeItem(t)}};const At={localCache:{[Me]:3e5},shareRequest:w};let jt=0;class Ht{constructor(t){this.id=++jt+"",this.storage=t.storageAdapter||Mt(),this.options=m(m({},At),t)}Get(t,o){return p(y,Me,this,t,o)}Post(t,o={},s){return p(y,Et,this,t,s,o)}Delete(t,o={},s){return p(y,Pt,this,t,s,o)}Put(t,o={},s){return p(y,Ot,this,t,s,o)}Head(t,o){return p(y,$t,this,t,o)}Patch(t,o={},s){return p(y,Tt,this,t,s,o)}Options(t,o){return p(y,wt,this,t,o)}}const ao=e=>{const t=p(Ht,e);return q[0]&&st(ye(q[0])===ye(t),"must use the same `statesHook` in single project"),oe(q,t),t},Dt=Promise,Lt=e=>Dt.reject(e),Nt=Object,Ut=!0,kt=!1,_=(e,t,o)=>e.then(t,o),Kt=e=>JSON.stringify(e),Vt=(e,t=0)=>setTimeout(e,t),Re=e=>clearTimeout(e),_t=e=>e.length,qt=e=>typeof e=="string",Bt=e=>Nt.prototype.toString.call(e),Ft=(e,t)=>e instanceof t,Gt=e=>{const t=Bt(e);return/^\[object (Blob|FormData|ReadableStream|URLSearchParams)\]$/i.test(t)||Ft(e,ArrayBuffer)},Jt=(e,...t)=>new e(...t),It=e=>`[alova]${e}`;var zt=(e,t)=>{const o=Jt(Error,It(e));return t&&(o.name=t),o};const Wt=e=>qt(e)||Gt(e);function io(){return function(e,t){const o=t.config,s=o.timeout||0,n=new AbortController,a=e.data,i=fetch(e.url,K(m({},o),{method:e.type,signal:n.signal,body:Wt(a)?a:Kt(a)}));let r,c=kt;return s>0&&(r=Vt(()=>{c=Ut,n.abort()},s)),{response:()=>_(i,l=>(Re(r),l.clone()),l=>Lt(zt(c?"fetchError: network timeout":l.message))),headers:()=>_(i,({headers:l})=>l,()=>({})),onDownload:l=>{_(i,h=>{const{headers:d,body:f}=h.clone(),u=f==null?void 0:f.getReader().read(),S=Number(d.get("Content-Length")||d.get("content-length")||0);if(S<=0)return;let R=0;const J=setInterval(()=>{u&&_(u,({done:H,value:I=new Uint8Array})=>{H&&clearInterval(J),R+=_t(I),l(S,R)})},0)})},abort:()=>{n.abort(),Re(r)}}}}const Yt=Object,Qt=void 0,Xt=!0,Zt=(e,t=0)=>setTimeout(e,t),eo=e=>clearTimeout(e),to=e=>Yt.keys(e),ve=(e,t)=>e.forEach(t),oo=typeof window=="undefined"&&typeof process!="undefined";var co={create:e=>Ie(e),export:e=>e,dehydrate:e=>e.value,update:(e,t)=>ve(to(e),o=>{t[o].value=e[o]}),effectRequest({handler:e,removeStates:t,immediate:o,watchingStates:s}){if(oo)return;ze(t),o&&e();let n;ve(s||[],(a,i)=>{We(a,()=>{n&&eo(n),n=Zt(()=>{e(i),n=Qt})},{deep:Xt})})}};export{io as G,co as V,ao as c};
